# =============================================================================
# PARAMÈTRES PROJET - Customer Segmentation RFM
# =============================================================================

# -----------------------------------------------------------------------------
# Données
# -----------------------------------------------------------------------------
data:
  raw_file: "data/raw/Online Retail.xlsx"
  processed_file: "data/processed/transactions_clean.csv"
  features_file: "data/features/rfm_features.csv"
  expected_shape: [541909, 8]

# -----------------------------------------------------------------------------
# Preprocessing
# -----------------------------------------------------------------------------
preprocessing:
  drop_na_customer: true
  remove_negative_quantity: true
  remove_zero_price: true
  remove_cancelled_invoices: true  # InvoiceNo commençant par "C"
  min_monetary: 0  # Montant minimum par client

# -----------------------------------------------------------------------------
# Feature Engineering RFM
# -----------------------------------------------------------------------------
rfm:
  scaling_method: "robust"  # "standard" ou "robust"
  features: ["Recency", "Frequency", "Monetary"]
  winsorize_percentile: 95  # Cap outliers au percentile 95 avant scaling

# -----------------------------------------------------------------------------
# Modélisation
# -----------------------------------------------------------------------------
models:
  random_state: 42

  kmeans:
    k_range: [2, 3, 4, 5, 6, 7, 8, 9, 10]
    n_init: 10
    max_iter: 300

  hierarchical:
    linkage: "ward"  # "ward", "complete", "average", "single"
    n_clusters_range: [2, 3, 4, 5, 6]

  dbscan:
    eps_range: [0.3, 0.5, 0.7, 1.0]
    min_samples_range: [5, 10, 15, 20]

# -----------------------------------------------------------------------------
# Évaluation
# -----------------------------------------------------------------------------
evaluation:
  metrics: ["silhouette", "davies_bouldin", "calinski_harabasz"]
  n_bootstrap: 10
  bootstrap_ratio: 0.8

# -----------------------------------------------------------------------------
# Visualisation
# -----------------------------------------------------------------------------
visualization:
  figure_dpi: 150
  figure_format: "png"
  color_palette: "viridis"

# -----------------------------------------------------------------------------
# Outputs
# -----------------------------------------------------------------------------
outputs:
  models_dir: "outputs/models"
  figures_dir: "outputs/figures"
  reports_dir: "outputs/reports"
